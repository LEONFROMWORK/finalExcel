# UI/UX 개선 계획서

## 1. 핵심 설계 원칙

### 1.1 Single Page Workflow
- 모든 Excel 작업을 하나의 통합된 페이지에서 처리
- 페이지 이동 없이 모든 기능에 접근 가능
- 실시간 피드백과 결과 확인

### 1.2 Progressive Disclosure
- 사용자의 선택에 따라 필요한 기능만 표시
- 단계별 작업 가이드 제공
- 복잡도를 점진적으로 노출

### 1.3 Visual Feedback
- 모든 액션에 즉각적인 시각적 피드백
- 진행 상태를 명확히 표시
- 오류와 성공을 직관적으로 구분

## 2. 새로운 페이지 구조

### 2.1 Excel Workspace (/excel-workspace)
통합 작업 공간으로 모든 Excel 관련 작업을 수행

#### 레이아웃 구성
```
┌─────────────────────────────────────────────────────────────┐
│                         Header (크레딧 표시)                  │
├─────────────────────────────┬───────────────────────────────┤
│                             │                               │
│      작업 영역 (70%)         │      AI 상담 영역 (30%)       │
│                             │                               │
│  ┌─────────────────────┐    │  ┌─────────────────────┐    │
│  │   파일 업로드 영역    │    │  │   대화 히스토리      │    │
│  └─────────────────────┘    │  └─────────────────────┘    │
│                             │                               │
│  ┌─────────────────────┐    │  ┌─────────────────────┐    │
│  │   작업 선택 패널     │    │  │   입력 영역         │    │
│  └─────────────────────┘    │  │  - 텍스트           │    │
│                             │  │  - 이미지 첨부       │    │
│  ┌─────────────────────┐    │  └─────────────────────┘    │
│  │   결과 표시 영역     │    │                               │
│  └─────────────────────┘    │                               │
└─────────────────────────────┴───────────────────────────────┘
```

### 2.2 컴포넌트 설계

#### A. 파일 업로드 영역
- 드래그 앤 드롭 지원
- 복수 파일 업로드 (Excel + 스크린샷)
- 업로드된 파일 미리보기
- 파일 정보 표시 (크기, 시트 수, 오류 감지)

#### B. 작업 선택 패널
동적으로 표시되는 작업 옵션:
1. **파일이 있는 경우**
   - 오류 자동 수정
   - 오류 진단만
   - 기능 개선/추가
   - VBA 분석/수정
   
2. **파일이 없는 경우**
   - 새 파일 생성
   - 템플릿에서 시작
   - AI와 상담하여 생성

#### C. AI 상담 영역
- 항상 표시되는 고정 영역
- 컨텍스트 인식 (현재 작업 상태 반영)
- 이미지 첨부 가능
- 대화 히스토리 유지

#### D. 결과 표시 영역
- 실시간 분석 결과
- 수정 사항 미리보기
- 다운로드 옵션
- 추가 작업 제안

### 2.3 크레딧 시스템 UI
```
┌─────────────────────────────────────┐
│ 현재 크레딧: 1,000                  │
│ ┌─────────────────────────────────┐ │
│ │ 예상 사용량:                    │ │
│ │ - 파일 분석: 10 크레딧          │ │
│ │ - AI 상담: 5 크레딧/메시지      │ │
│ │ - 파일 생성: 20 크레딧          │ │
│ └─────────────────────────────────┘ │
└─────────────────────────────────────┘
```

## 3. 시나리오별 UI 플로우

### 시나리오 1: 오류 수정
1. 파일 업로드 → 자동으로 오류 감지 시작
2. 오류 목록 표시 → "자동 수정" 버튼 활성화
3. 수정 진행 → 실시간 진행률 표시
4. 결과 미리보기 → 다운로드 옵션 제공

### 시나리오 2: 오류 진단만
1. 파일 업로드 → 오류 감지
2. "진단만" 옵션 선택
3. 상세 오류 리포트 표시
4. AI 상담창에서 추가 질문 가능

### 시나리오 3: 기능 개선
1. 파일 업로드 → 현재 구조 분석
2. "기능 개선" 선택
3. AI가 개선 제안 목록 제시
4. 선택적 적용 → 미리보기 → 다운로드

### 시나리오 4: 새 파일 생성
1. "새 파일 만들기" 선택
2. AI 상담창에서 요구사항 입력
3. 실시간으로 파일 구조 생성
4. 미리보기 → 수정 → 다운로드

### 시나리오 5-6: VBA 처리
1. 파일 업로드 → VBA 코드 감지
2. VBA 분석 옵션 표시
3. 코드 뷰어에서 문제점 하이라이트
4. 수정 제안 또는 자동 수정 선택

### 시나리오 7-8: AI 상담 + 이미지
1. 파일 업로드 (선택사항)
2. AI 상담창에서 질문 입력
3. 이미지 첨부 버튼으로 스크린샷 추가
4. AI가 이미지 분석 후 답변

### 시나리오 9: 추상적 개념 구현
1. AI 상담창에서 아이디어 설명
2. AI가 단계별 질문으로 구체화
3. 실시간으로 파일 구조 제안
4. 반복적 수정 → 최종 다운로드

### 시나리오 10: 크레딧 관리
- 모든 액션 전 예상 크레딧 표시
- 실시간 잔액 업데이트
- 크레딧 부족 시 충전 옵션 제시

## 4. PrimeVue 컴포넌트 활용

### 주요 컴포넌트
- **Splitter**: 작업 영역과 AI 상담 영역 분할
- **TabView**: 작업 유형 선택
- **FileUpload**: 향상된 파일 업로드
- **DataTable**: 오류 목록, 분석 결과
- **Card**: 각 섹션 구분
- **Dialog**: 미리보기, 상세 정보
- **Steps**: 작업 진행 단계 표시
- **Badge**: 크레딧, 상태 표시
- **Toast**: 실시간 알림
- **Skeleton**: 로딩 상태

### 테마 고려사항
- Aura 테마 커스터마이징
- 다크 모드 지원
- 브랜드 컬러 (오렌지) 일관성
- 접근성 준수

## 5. 구현 우선순위

1. **Phase 1**: Excel Workspace 페이지 구조
2. **Phase 2**: 파일 업로드 및 분석 통합
3. **Phase 3**: AI 상담 영역 개선
4. **Phase 4**: 결과 미리보기 및 다운로드
5. **Phase 5**: 크레딧 시스템
6. **Phase 6**: VBA 지원
7. **Phase 7**: 이미지 분석

## 6. 성공 지표

- 작업 완료까지 페이지 이동: 0회
- 평균 작업 완료 시간: 50% 단축
- 사용자 만족도: 90% 이상
- 오류율: 10% 이하
- 재방문율: 80% 이상